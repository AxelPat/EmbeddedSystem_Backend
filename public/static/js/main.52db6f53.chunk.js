(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{266:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),s=n.n(c),i=n(18),o=n(63),u=n(164),l=n(321),d=n(78),j=n(23),b=n(7),p=n(316),O=n(10),f=n.n(O),h=n(17),x=n(165),m=n.n(x),g=n(29),v=n.n(g),y=m.a.create({baseURL:"https://smartsani.herokuapp.com/api"});y.interceptors.request.use((function(e){return v.a.get().jwtToken&&(e.headers.Authorization="Bearer ".concat(v.a.get().jwtToken)),e}));var S=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.get("/user/records",{withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.get("/user/userData",{withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.patch("/user/record/".concat(t),n,{withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.patch("/user/userData/".concat(t),n,{withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.delete("/user/record/".concat(t),{withCredentials:!0}).then(S));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.delete("/user/userData/".concat(t),{withCredentials:!0}).then(w));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.post("/auth/login",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.post("/auth/register",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.post("/user/userData",t,{withCredentials:!0}).then(w));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e,t){return function(){var n=Object(h.a)(f.a.mark((function n(a){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"GET_ERROR",payload:{message:e,status:t}});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},U=function(){return function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_ERROR"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"ACTION_LOADING",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"ACTION_SUCCESS",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(){return function(){var e=Object(h.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(L(!0)),e.prev=1,e.next=4,S();case 4:n=e.sent,a=n.data,t({type:"FETCHRECORD",payload:a}),t(L(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t(N(e.t0.response.data,e.t0.response.status)),t(L(!1));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(h.a)(f.a.mark((function t(n){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(L(!0)),t.prev=1,t.next=4,k(e);case 4:a=t.sent,r=a.data,n({type:"DELETERECORD",payload:r}),n(L(!1)),n(A(!0)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),n(N(t.t0.response.data,t.t0.response.status)),n(L(!1));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"LOADINGDATA",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SUCCESSACTION",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(){return function(){var e=Object(h.a)(f.a.mark((function e(t){var n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(G(!0)),e.prev=1,e.next=4,w();case 4:n=e.sent,a=n.data,t({type:"FETCHUSER",payload:a}),t(G(!1)),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),"object"===typeof(r=e.t0.response.data.messages)&&(r=r[0]),t({type:"ERRORUSER",payload:r}),t(G(!1));case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},M=function(e){return function(){var t=Object(h.a)(f.a.mark((function t(n){var a,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(z(!1)),n(G(!0)),t.prev=2,t.next=5,R(e);case 5:a=t.sent,r=a.data,n({type:"DELETEUSER",payload:r}),n(G(!1)),n(z(!0)),t.next=18;break;case 12:t.prev=12,t.t0=t.catch(2),"object"===typeof(c=t.t0.response.data.messages)&&(c=c[0]),n({type:"ERRORDELETE",payload:c}),n(G(!1));case 18:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()},W=n(309),B=n(310),H=n(74),Y=n(109),V=n(322),q=n(75),J=n(171),K=n.n(J),Q=n(172),X=n.n(Q),Z=n(166),$=n(42),ee=Object($.a)((function(e){return{root:{},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontWeight:"bold"},user:{marginRight:e.spacing(3)},dbName:{fontSize:"10px",letterSpacing:"0.05em",textTransform:"uppercase"},username:{fontSize:"14px",letterSpacing:"0.05em",textTransform:"uppercase",fontWeight:"bold"},logout:{fontWeight:"bold"}}})),te=n(2),ne=function(){var e=Object(i.c)((function(e){return e.errors})),t=Object(a.useState)(v.a.get("jwtToken")),n=Object(b.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)({username:r?Object(Z.a)(r).user:"",db_id:v.a.get("db_id")}),o=Object(b.a)(s,2),u=o[0],l=o[1],d=ee(),p=Object(i.b)(),O=Object(j.f)(),x=function(){p(function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{v.a.remove("db_id",{path:"/",secure:!0,sameSite:"none"}),v.a.remove("jwtToken",{path:"/",secure:!0,sameSite:"none"}),t(U()),t({type:"LOGOUT"})}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O.push("/auth"),l(null)};return Object(a.useEffect)((function(){403!==e.status&&401!==e.status||x(),c(v.a.get("jwtToken"))}),[e]),Object(te.jsxs)("div",{className:d.root,children:[Object(te.jsx)(W.a,{position:"fixed",children:Object(te.jsxs)(B.a,{children:[Object(te.jsx)(H.a,{edge:"start",className:d.menuButton,color:"inherit","aria-label":"menu",children:Object(te.jsx)(K.a,{})}),Object(te.jsx)(Y.a,{variant:"h6",className:d.title,children:"Dashboard"}),Object(te.jsxs)(V.a,{display:"flex",justifyContent:"flex-start",className:d.user,flexDirection:"column",children:[Object(te.jsx)(Y.a,{className:d.username,children:u?u.username:""}),Object(te.jsx)(Y.a,{className:d.dbName,children:u?u.db_id:""})]}),Object(te.jsx)(q.a,{color:"inherit",className:d.logout,startIcon:Object(te.jsx)(X.a,{}),onClick:x,children:"Logout"})]})}),Object(te.jsx)(B.a,{})]})},ae=n(327),re=n(125),ce=n(57),se=n(105),ie=n.n(se),oe=n(106),ue=n.n(oe),le=n(174),de=n.n(le),je=n(175),be=n.n(je),pe=n(73),Oe=n.n(pe),fe=n(11),he=n(324),xe=n(313),me=n(314),ge=n(315),ve=n(191),ye=n(317),Se=n(326),we=n(104),Ce=n.n(we),Ee=function(e){var t=e.isEdit,n=e.isSuccess,c=Object(i.b)(),s=Object(a.useState)(!1),o=Object(b.a)(s,2),u=o[0],l=o[1];Object(a.useEffect)((function(){n&&d()}),[n]);var d=function(){l(!0),c(A(!1))},j=function(e,t){"clickaway"!==t&&l(!1)};return Object(te.jsx)("div",{children:Object(te.jsx)(Se.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:u,autoHideDuration:3e3,onClose:j,message:t?"Data successfully updated":"Data successfully deleted",action:Object(te.jsx)(r.a.Fragment,{children:Object(te.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:j,children:Object(te.jsx)(Ce.a,{fontSize:"small"})})})})})},ke=function(e){var t=e.isOpen,n=e.handleClose,r=e.isEdit,c=e.currentId,s=Object(a.useState)(!1),o=Object(b.a)(s,2),u=o[0],l=o[1],d=Object(a.useState)({uid:"",userData:{name:""},temperature:""}),j=Object(b.a)(d,2),O=j[0],x=j[1],m=Object(i.c)((function(e){return e.records})),g=c?m.records.find((function(e){return e._id===c})):null,v=Object(i.b)();Object(a.useEffect)((function(){g&&x(g),l(!!t)}),[g,t]);return Object(te.jsxs)("div",{children:[Object(te.jsx)(Ee,{isEdit:r,isSuccess:m.isSuccess}),Object(te.jsxs)(he.a,{open:u,onClose:n,children:[Object(te.jsx)(xe.a,{id:"alert-dialog-title",children:Object(te.jsx)(Y.a,{align:"center",children:r?"Edit Record":"Delete Record"})}),Object(te.jsxs)(me.a,{children:[Object(te.jsx)(ge.a,{id:"alert-dialog-description",children:!r&&"Are you sure want to delete this record ?"}),r&&Object(te.jsxs)(p.a,{container:!0,spacing:2,direction:"column",children:[Object(te.jsx)(p.a,{item:!0,children:Object(te.jsx)(ve.a,{disabled:!0,value:O.uid,variant:"outlined",label:"UID"})}),Object(te.jsx)(p.a,{item:!0,children:Object(te.jsx)(ve.a,{disabled:!0,value:O.userData?O.userData.name:"",variant:"outlined",label:"Name"})}),Object(te.jsx)(p.a,{item:!0,children:Object(te.jsx)(ve.a,{variant:"outlined",value:O.temperature,onChange:function(e){return x(Object(fe.a)(Object(fe.a)({},O),{},{temperature:e.target.value}))},type:"number",label:"Temperature"})})]})]}),Object(te.jsxs)(ye.a,{children:[Object(te.jsx)(q.a,{onClick:n,variant:"contained",color:r?"secondary":"primary",children:"No"}),Object(te.jsx)(q.a,{variant:"contained",onClick:function(){v(r?function(e,t){return function(){var n=Object(h.a)(f.a.mark((function n(a){var r,c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(L(!0)),n.prev=1,n.next=4,C(e,t);case 4:r=n.sent,c=r.data,a({type:"UPDATERECORD",payload:c}),a(L(!1)),a(A(!0)),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),a(N(n.t0.response.data,n.t0.response.status)),a(L(!1));case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()}(c,O):F(c)),n()},color:r?"primary":"secondary",autoFocus:!0,children:"Yes"})]})]})]})},Re=function(e){var t=e.handleDelete,n=e.selected;return Object(te.jsx)(ce.d,{children:Object(te.jsxs)(p.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(te.jsx)(ce.c,{}),n.length?Object(te.jsx)(q.a,{size:"small",variant:"contained",disableElevation:!0,color:"secondary",onClick:t,children:"Delete"}):Object(te.jsx)(te.Fragment,{})]})})},De=n(318),Ie=function(){return Object(te.jsx)(ce.b,{children:Object(te.jsx)("div",{style:{position:"absolute",top:0,width:"100%"},children:Object(te.jsx)(De.a,{})})})},Te=function(e){var t,n,r=e.currentId,c=e.setCurrentId,s=e.selectedId,o=e.setSelectedId,u=Object(i.b)(),l=Object(a.useState)(!1),d=Object(b.a)(l,2),j=d[0],p=d[1],O=Object(a.useState)(!0),f=Object(b.a)(O,2),h=f[0],x=f[1],m=Object(i.c)((function(e){return e.records}));t=m.records.filter((function(e){return null!=e.userData})).map((function(e){var t={};return t.id=e._id,t.uid=e.uid,t.name=e.userData?e.userData.name:"",t.temperature=e.temperature,t.status=e.status,t.createdAt=Oe()(e.createdAt).format("M/D/YYYY LT"),t.action="",t})),n=[{field:"id",headerName:"id",hide:!0},{field:"uid",headerName:"UID",width:120},{field:"name",headerName:"Name",flex:1},{field:"temperature",headerName:"Temp",width:100},{field:"status",headerName:"Status",width:100,renderCell:function(e){return Object(te.jsx)(ae.a,{color:"Ok"===e.value?"primary":"secondary",label:e.value,icon:"Ok"===e.value?Object(te.jsx)(de.a,{}):Object(te.jsx)(be.a,{}),size:"small"})}},{field:"createdAt",headerName:"Time In",width:200,type:"dateTime"},{field:"action",headerName:"Action",width:150,sortable:!1,disableClickEventBubbling:!0,renderCell:function(e){return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(H.a,{color:"primary",onClick:function(t){g(e.getValue("id"))},children:Object(te.jsx)(ie.a,{})}),Object(te.jsx)(H.a,{color:"secondary",onClick:function(t){return v(e.getValue("id"))},children:Object(te.jsx)(ue.a,{})})]})}}];var g=function(e){c(e),x(!0),p(!0)},v=function(e){c(e),x(!1),p(!0)};return Object(te.jsxs)("div",{children:[Object(te.jsx)(ke,{isOpen:j,handleClose:function(){p(!1)},isEdit:h,currentId:r}),Object(te.jsx)(re.a,{elevation:0,children:Object(te.jsx)("div",{style:{display:"flex",height:"100%"},children:Object(te.jsx)("div",{style:{flexGrow:1},children:Object(te.jsx)(ce.a,{autoHeight:!0,pageSize:5,rows:t,columns:n,components:{Toolbar:Re,LoadingOverlay:Ie},componentsProps:{toolbar:{handleDelete:function(){s.forEach((function(e){u(F(e))})),o([])},selected:s}},sortModel:[{field:"createdAt",sort:"desc"}],loading:m.isLoading,checkboxSelection:!0,onSelectionModelChange:function(e){return function(e){var t=e.selectionModel;o(t)}(e)}})})})})]})},Ne=function(e){var t=e.isEdit,n=e.isSuccess,c=Object(i.b)(),s=Object(a.useState)(!1),o=Object(b.a)(s,2),u=o[0],l=o[1];Object(a.useEffect)((function(){n&&d()}),[n]);var d=function(){l(!0),c(A(!1))},j=function(e,t){"clickaway"!==t&&l(!1)};return Object(te.jsx)("div",{children:Object(te.jsx)(Se.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:u,autoHideDuration:3e3,onClose:j,message:t?"Data successfully updated":"Data successfully deleted",action:Object(te.jsx)(r.a.Fragment,{children:Object(te.jsx)(H.a,{size:"small","aria-label":"close",color:"inherit",onClick:j,children:Object(te.jsx)(Ce.a,{fontSize:"small"})})})})})},Ue=function(e){var t=e.isOpen,n=e.handleClose,r=e.isEdit,c=e.currentId,s=Object(a.useState)(!1),o=Object(b.a)(s,2),u=o[0],l=o[1],d=Object(a.useState)({uid:"",name:""}),j=Object(b.a)(d,2),O=j[0],x=j[1],m=Object(i.c)((function(e){return e.users})),g=c?m.users.find((function(e){return e._id===c})):null,v=Object(i.b)();Object(a.useEffect)((function(){g&&x(g),l(!!t)}),[g,t]);return Object(te.jsxs)("div",{children:[Object(te.jsx)(Ne,{isEdit:r,isSuccess:m.isSuccess}),Object(te.jsxs)(he.a,{open:u,onClose:n,children:[Object(te.jsx)(xe.a,{id:"alert-dialog-title",children:Object(te.jsx)(Y.a,{align:"center",children:r?"Edit userdata":"Delete userdata"})}),Object(te.jsxs)(me.a,{children:[Object(te.jsx)(ge.a,{id:"alert-dialog-description",children:!r&&"Are you sure want to delete this userdata ?"}),r&&Object(te.jsx)("form",{style:{paddingBottom:"20px"},children:Object(te.jsxs)(p.a,{container:!0,spacing:2,direction:"column",children:[Object(te.jsx)(p.a,{item:!0,children:Object(te.jsx)(ve.a,{disabled:!0,value:O?O.uid:"",variant:"outlined",label:"UID"})}),Object(te.jsx)(p.a,{item:!0,children:Object(te.jsx)(ve.a,{value:O?O.name:"",onChange:function(e){return x(Object(fe.a)(Object(fe.a)({},O),{},{name:e.target.value}))},variant:"outlined",label:"Name"})})]})})]}),Object(te.jsxs)(ye.a,{children:[Object(te.jsx)(q.a,{onClick:n,variant:"contained",color:r?"secondary":"primary",children:"No"}),Object(te.jsx)(q.a,{variant:"contained",onClick:function(){v(r?function(e,t){return function(){var n=Object(h.a)(f.a.mark((function n(a){var r,c,s;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(G(!0)),n.prev=1,n.next=4,E(e,t);case 4:r=n.sent,c=r.data,a({type:"UPDATEUSER",payload:c}),a(G(!1)),a(z(!0)),n.next=17;break;case 11:n.prev=11,n.t0=n.catch(1),"object"===typeof(s=n.t0.response)&&(s=s[0]),a({type:"ERRORUPDATE",payload:s}),a(G(!1));case 17:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()}(c,O):M(c)),n()},color:r?"primary":"secondary",autoFocus:!0,children:"Yes"})]})]})]})},Le=function(e){var t,n,r=e.currentId,c=e.setCurrentId,s=e.selectedId,o=e.setSelectedId,u=Object(i.b)(),l=Object(a.useState)(!1),d=Object(b.a)(l,2),j=d[0],p=d[1],O=Object(a.useState)(!0),f=Object(b.a)(O,2),h=f[0],x=f[1],m=Object(i.c)((function(e){return e.users}));t=m.users.map((function(e){var t={};return t.id=e.id,t.uid=e.uid,t.name=e.name,t})),n=[{field:"id",headerName:"id",hide:!0},{field:"uid",headerName:"UID",flex:1},{field:"name",headerName:"Name",flex:1},{field:"action",headerName:"Action",width:150,sortable:!1,disableClickEventBubbling:!0,renderCell:function(e){return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(H.a,{color:"primary",onClick:function(t){g(e.getValue("id"))},children:Object(te.jsx)(ie.a,{})}),Object(te.jsx)(H.a,{color:"secondary",onClick:function(t){return v(e.getValue("id"))},children:Object(te.jsx)(ue.a,{})})]})}}];var g=function(e){c(e),x(!0),p(!0)},v=function(e){c(e),x(!1),p(!0)};return Object(te.jsxs)("div",{children:[Object(te.jsx)(Ue,{isOpen:j,handleClose:function(){p(!1)},isEdit:h,currentId:r}),Object(te.jsx)(re.a,{elevation:0,children:Object(te.jsx)("div",{style:{display:"flex",height:"100%"},children:Object(te.jsx)("div",{style:{flexGrow:1},children:Object(te.jsx)(ce.a,{autoHeight:!0,pageSize:5,rows:t,columns:n,components:{Toolbar:Re,LoadingOverlay:Ie},componentsProps:{toolbar:{handleDelete:function(){s.map((function(e){return u(M(e))})),o([])},selected:s}},sortModel:[{field:"name",sort:"asc"}],checkboxSelection:!0,onSelectionModelChange:function(e){return function(e){var t=e.selectionModel;o(t)}(e)},loading:m.isLoading})})})})]})},Ae=n(272),_e=n(319),Fe=n(311),Ge=n(176),ze=n.n(Ge),Pe=Object($.a)((function(e){return{toggledata:{marginLeft:e.spacing(2),marginTop:e.spacing(2),marginBottom:e.spacing(2),marginRight:e.spacing(2)}}})),Me=function(e){var t=e.checked,n=e.setChecked,r=e.setSelectedId,c=Pe(),s=Object(a.useState)(null),o=Object(b.a)(s,2),u=o[0],l=o[1],d=Object(i.b)();return Object(te.jsx)(re.a,{variant:"outlined",children:Object(te.jsxs)(V.a,{display:"flex",className:c.toggledata,justifyContent:"flex-start",flexDirection:"column",children:[Object(te.jsx)(Y.a,{variant:"overline",children:"Toggle User Data"}),Object(te.jsx)(Ae.a,{checked:t,onChange:function(e){n(!t),r([])},color:"primary",name:"checkedA"}),t&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(_e.a,{}),Object(te.jsxs)("div",{style:{display:"flex",flexDirection:"column",paddingTop:"5px"},children:[Object(te.jsx)(Y.a,{variant:"overline",children:"Upload User data"}),Object(te.jsx)(Fe.a,{onChange:function(e){return l(e.target.files[0])},accept:".csv",type:"file",endAdornment:Object(te.jsx)(H.a,{onClick:function(){if(u){var e,t=new FormData;t.append("data",u,u.name),d((e=t,function(){var t=Object(h.a)(f.a.mark((function t(n){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T(e);case 3:a=t.sent,r=a.data,n({type:"UPLOADUSER",payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}},size:"small",color:"primary",children:Object(te.jsx)(ze.a,{})})})]})]})]})})},We=n(177),Be=n.n(We),He=Object($.a)((function(e){return{title:{fontSize:32,fontWeight:600},infoCard:{width:"150px",height:"70px",marginLeft:e.spacing(1.5),marginBottom:e.spacing(2),marginTop:e.spacing(1)},cardIcon:{fontSize:48,marginRight:e.spacing(2)},info:{fontSize:16,fontWeight:100,lineHeight:1.5,letterSpacing:"0.05em"},toggledata:{marginLeft:e.spacing(2),marginTop:e.spacing(2),marginBottom:e.spacing(2),marginRight:e.spacing(2)}}})),Ye=function(e){var t=e.logged,n=He();return Object(te.jsx)("div",{children:Object(te.jsx)(re.a,{style:{backgroundColor:"#a5d6a7"},variant:"outlined",children:Object(te.jsxs)(V.a,{display:"flex",alignItems:"center",children:[Object(te.jsxs)(V.a,{display:"flex",className:n.infoCard,justifyContent:"flex-start",flexDirection:"column",children:[Object(te.jsx)(Y.a,{className:n.title,children:t}),Object(te.jsx)(Y.a,{className:n.info,color:"textSecondary",children:"User Logged"})]}),Object(te.jsx)(Be.a,{className:n.cardIcon})]})})})},Ve=n(178),qe=n.n(Ve),Je=function(e){var t=e.warning,n=He();return Object(te.jsx)("div",{children:Object(te.jsx)(re.a,{style:{backgroundColor:"#ffee58"},variant:"outlined",children:Object(te.jsxs)(V.a,{display:"flex",alignItems:"center",children:[Object(te.jsxs)(V.a,{display:"flex",className:n.infoCard,justifyContent:"flex-start",flexDirection:"column",children:[Object(te.jsx)(Y.a,{className:n.title,children:t}),Object(te.jsx)(Y.a,{className:n.info,color:"textSecondary",children:"User Warning"})]}),Object(te.jsx)(qe.a,{className:n.cardIcon})]})})})},Ke=n(179),Qe=n.n(Ke),Xe=function(){var e=Object(a.useState)(Oe()().format("LTS")),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(Oe()().format("MMM, D")),s=Object(b.a)(c,2),i=s[0],o=s[1],u=He();return Object(a.useEffect)((function(){var e=setInterval((function(){r(Oe()().format("LTS")),o(Oe()().format("MMM, D"))}),1e3);return function(){return clearInterval(e)}}),[]),Object(te.jsx)(re.a,{variant:"outlined",children:Object(te.jsxs)(V.a,{display:"flex",alignItems:"center",children:[Object(te.jsxs)(V.a,{display:"flex",className:u.infoCard,justifyContent:"flex-start",flexDirection:"column",children:[Object(te.jsx)(Y.a,{className:u.title,children:i}),Object(te.jsx)(Y.a,{className:u.info,color:"textSecondary",children:n})]}),Object(te.jsx)(Qe.a,{className:u.cardIcon})]})})},Ze=function(e){var t=e.message,n=e.open,a=e.setOpen,r=function(){a(!1)};return Object(te.jsx)("div",{children:Object(te.jsxs)(he.a,{open:n,onClose:r,maxWidth:"sm",children:[Object(te.jsx)(xe.a,{id:"alert-dialog-title",children:"Alert"}),Object(te.jsx)(me.a,{children:Object(te.jsx)(ge.a,{id:"alert-dialog-description",children:t})}),Object(te.jsx)(ye.a,{children:Object(te.jsx)(q.a,{variant:"contained",onClick:r,color:"primary",autoFocus:!0,children:"Ok"})})]})})},$e=n(180),et=function(){var e=Object(i.b)(),t=Object(a.useState)(!1),n=Object(b.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),o=Object(b.a)(s,2),u=o[0],l=o[1],d=Object(a.useState)(0),j=Object(b.a)(d,2),O=j[0],f=j[1],h=Object(a.useState)(0),x=Object(b.a)(h,2),m=x[0],g=x[1];return Object(a.useEffect)((function(){var t=Object($e.io)("https://smartsani.herokuapp.com");t.emit("albertque"),t.on("userLogged",(function(){e(_()),g((function(e){return e+1}))})),t.on("warning",(function(t){e(_()),c(!0),l(t.message),f((function(e){return e+1}))})),e(P()),e(_())}),[e]),Object(te.jsxs)("div",{children:[Object(te.jsx)(Ze,{open:r,setOpen:c,message:u}),Object(te.jsxs)(p.a,{container:!0,justify:"center",alignItems:"center",spacing:3,children:[Object(te.jsx)(p.a,{item:!0,children:Object(te.jsx)(Ye,{logged:m})}),Object(te.jsx)(p.a,{item:!0,children:Object(te.jsx)(Je,{warning:O})}),Object(te.jsx)(p.a,{item:!0,children:Object(te.jsx)(Xe,{})})]})]})},tt=function(){var e=Object(a.useState)(null),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(b.a)(c,2),o=s[0],u=s[1],l=Object(a.useState)(!1),d=Object(b.a)(l,2),j=d[0],O=d[1],f=Object(i.b)();return Object(a.useEffect)((function(){f(P()),f(_())}),[f,n,j]),Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(ne,{}),Object(te.jsxs)("div",{style:{paddingTop:"20px"},children:[Object(te.jsx)(et,{}),Object(te.jsx)("div",{style:{paddingTop:"20px"},children:Object(te.jsxs)(p.a,{container:!0,justify:"center",alignItems:"flex-start",spacing:2,children:[Object(te.jsx)(p.a,{item:!0,sm:12,xs:12,lg:3,children:Object(te.jsx)(Me,{checked:j,setChecked:O,setSelectedId:u})}),Object(te.jsx)(p.a,{item:!0,sm:12,xs:12,lg:!0,children:j?Object(te.jsx)(Le,{currentId:n,setCurrentId:r,selectedId:o,setSelectedId:u}):Object(te.jsx)(Te,{currentId:n,setCurrentId:r,selectedId:o,setSelectedId:u})})]})})]})]})},nt=n(58),at=n(186),rt=Object($.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(2,0,2)},title:{textTransform:"uppercase",fontWeight:"bold"},error:{marginTop:e.spacing(2)}}})),ct=n(320),st=n(181),it=n.n(st),ot=n(182),ut=n.n(ot),lt=function(e){var t=e.name,n=e.handleChange,a=e.autofocus,r=e.label,c=e.type,s=e.error,i=e.handleShowPassword;return Object(te.jsx)(p.a,{item:!0,xs:12,children:Object(te.jsx)(ve.a,{name:t,onChange:n,variant:"outlined",error:s,required:!0,fullWidth:!0,label:r,autoFocus:a,type:c,InputProps:"password"===t?{endAdornment:Object(te.jsx)(ct.a,{position:"end",children:Object(te.jsx)(H.a,{onClick:i,children:"password"===c?Object(te.jsx)(it.a,{}):Object(te.jsx)(ut.a,{})})})}:null})})},dt=function(){var e=rt(),t=Object(i.b)(),n=Object(j.f)(),r=Object(i.c)((function(e){return e.errors})),c=Object(a.useState)({username:"",password:"",confirmPassword:"",db_id:""}),s=Object(b.a)(c,2),o=s[0],u=s[1],d=Object(a.useState)(!1),O=Object(b.a)(d,2),x=O[0],m=O[1],g=Object(a.useState)(!1),y=Object(b.a)(g,2),S=y[0],w=y[1],C=Object(a.useState)(!1),E=Object(b.a)(C,2),k=E[0],R=E[1],T=Object(a.useState)(""),L=Object(b.a)(T,2),A=L[0],_=L[1];Object(a.useEffect)((function(){400===r.status?(R(!0),_(r.message.messages)):R(!1)}),[r]);var F=function(e){u(Object(fe.a)(Object(fe.a)({},o),{},Object(nt.a)({},e.target.name,e.target.value))),R(!1)};return Object(te.jsx)("div",{children:Object(te.jsx)(at.a,{in:!0,timeout:1e3,children:Object(te.jsx)(l.a,{component:"main",maxWidth:"xs",children:Object(te.jsxs)(re.a,{className:e.paper,elevation:3,children:[Object(te.jsx)(Y.a,{className:e.title,variant:"h4",children:S?"sign up":"sign in"}),Object(te.jsxs)("form",{autoComplete:"off",className:e.form,onSubmit:function(e){e.preventDefault(),t(S?function(e,t){return function(){var n=Object(h.a)(f.a.mark((function n(a){var r,c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I(e);case 3:r=n.sent,c=r.data,v.a.set("db_id",c.db_id,{path:"/",secure:!0,sameSite:"none"}),v.a.set("jwtToken",c.jwtToken,{path:"/",secure:!0,sameSite:"none"}),a({type:"REGISTER_SUCCESS",payload:c}),a(U()),t.push("/"),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),a(N(n.t0.response.data,n.t0.response.status)),a({type:"REGISTER_ERROR"});case 16:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(o,n):function(e,t){return function(){var n=Object(h.a)(f.a.mark((function n(a){var r,c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,D(e);case 3:r=n.sent,c=r.data,v.a.set("db_id",c.db_id,{path:"/",secure:!0,sameSite:"none"}),v.a.set("jwtToken",c.jwtToken,{path:"/",secure:!0,sameSite:"none"}),a({type:"LOGIN_SUCCESS",payload:c}),a(U()),t.push("/"),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),a(N(n.t0.response.data,n.t0.response.status)),a({type:"LOGIN_ERROR"});case 16:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(o,n))},children:[Object(te.jsxs)(p.a,{container:!0,spacing:2,children:[Object(te.jsx)(lt,{name:"username",label:"Username",handleChange:F,autoFocus:!0,error:k}),S&&Object(te.jsx)(lt,{name:"db_id",label:"Database ID",handleChange:F}),Object(te.jsx)(lt,{name:"password",label:"Password",handleChange:F,type:x?"text":"password",handleShowPassword:function(){return m((function(e){return!e}))},error:k})]}),k&&Object(te.jsx)(Y.a,{className:e.error,align:"center",color:"error",children:A}),Object(te.jsx)(q.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:S?"Sign Up":"Sign In"}),Object(te.jsx)(p.a,{container:!0,justify:"flex-end",children:Object(te.jsx)(p.a,{item:!0,children:Object(te.jsx)(q.a,{onClick:function(){w((function(e){return!e})),m(!1),R(!1)},children:S?"Have an account? Sign In":"Don't have an account? Sign Up"})})})]})]})})})})},jt=Object($.a)((function(e){return{title:{fontSize:"25px"}}})),bt=function(){var e=jt();return Object(te.jsx)(l.a,{fixed:!0,maxWidth:"lg",children:Object(te.jsx)(re.a,{children:Object(te.jsxs)("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column"},children:[Object(te.jsx)(Y.a,{align:"center",variant:"h1",children:"404"}),Object(te.jsx)(Y.a,{align:"center",className:e.title,variant:"overline",children:"Page Not Found"}),Object(te.jsx)(q.a,{component:d.b,to:"/",variant:"outlined",children:"Back To Home"})]})})})},pt=function(){return Object(te.jsx)(d.a,{children:Object(te.jsx)(l.a,{maxWidth:"lg",children:Object(te.jsxs)(j.c,{children:[Object(te.jsx)(j.a,{path:"/",exact:!0,component:tt}),Object(te.jsx)(j.a,{path:"/auth",exact:!0,component:dt}),Object(te.jsx)(j.a,{path:"*",children:Object(te.jsx)(bt,{})})]})})})},Ot={records:[],isLoading:!1,isSuccess:!1},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHRECORD":return Object(fe.a)(Object(fe.a)({},e),{},{records:t.payload});case"ACTION_LOADING":return Object(fe.a)(Object(fe.a)({},e),{},{isLoading:t.payload});case"ACTION_SUCCESS":return Object(fe.a)(Object(fe.a)({},e),{},{isSuccess:t.payload});case"UPDATERECORD":return Object(fe.a)(Object(fe.a)({},e),{},{records:e.records.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"DELETERECORD":return Object(fe.a)(Object(fe.a)({},e),{},{records:t.payload});case"ERRORRECORD":return Object(fe.a)(Object(fe.a)({},e),{},{records:[]});default:return e}},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,users:[],isSuccess:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHUSER":return Object(fe.a)(Object(fe.a)({},e),{},{users:t.payload});case"LOADINGDATA":return Object(fe.a)(Object(fe.a)({},e),{},{isLoading:t.payload});case"UPDATEUSER":return Object(fe.a)(Object(fe.a)({},e),{},{users:e.users.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"DELETEUSER":case"UPLOADUSER":return Object(fe.a)(Object(fe.a)({},e),{},{users:t.payload});case"SUCCESSACTION":return Object(fe.a)(Object(fe.a)({},e),{},{isSuccess:t.payload});case"ERRORUSER":return Object(fe.a)(Object(fe.a)({},e),{},{users:[]});default:return e}},xt={authData:null},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return Object(fe.a)(Object(fe.a)({},e),{},{authData:t.payload});case"LOGOUT":case"LOGIN_ERROR":case"REGISTER_ERROR":return Object(fe.a)(Object(fe.a)({},e),{},{authData:null});default:return e}},gt={status:null,message:{}},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERROR":return{status:t.payload.status,message:t.payload.message};case"CLEAR_ERROR":return{status:null,message:{}};default:return e}},yt=Object(o.c)({records:ft,users:ht,auths:mt,errors:vt}),St=Object(o.e)(yt,Object(o.d)(Object(o.a)(u.a)));s.a.render(Object(te.jsx)(i.a,{store:St,children:Object(te.jsx)(pt,{})}),document.getElementById("root"))}},[[266,1,2]]]);
//# sourceMappingURL=main.52db6f53.chunk.js.map