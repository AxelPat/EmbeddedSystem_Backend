(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{196:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),s=n.n(c),i=n(23),o=n(54),u=n(133),l=n(257),d=n(71),j=n(21),b=n(7),p=n(251),O=n(258),h=n(12),f=n.n(h),x=n(20),m=n(134),v=n.n(m),y=n(28),g=n.n(y),w=v.a.create({baseURL:"http://localhost:7070/api"});w.interceptors.request.use((function(e){return g.a.get().jwtToken&&(e.headers.Authorization="Bearer ".concat(g.a.get().jwtToken)),e}));var E=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.get("/user/records",{withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.get("/user/userData",{withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(x.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.patch("/user/record/".concat(t),n,{withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(x.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.patch("/user/userData/".concat(t),n,{withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.delete("/user/record/".concat(t),{withCredentials:!0}).then(E));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.delete("/user/userData/".concat(t),{withCredentials:!0}).then(R));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.post("/auth/login",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.post("/auth/register",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.post("/user/userData",t,{withCredentials:!0}).then(R));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=n(41),P=n(244),A=n(245),F=n(68),L=n(98),G=n(69),_=n(140),z=n.n(_),B=n(84),H=n.n(B),W=n(135),Y=n(2),V=Object(U.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},dbName:{paddingRight:"20px"}}})),q=function(){var e=Object(a.useState)(g.a.get("jwtToken")),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(g.a.get("db_id")),s=Object(b.a)(c,2),o=s[0],u=s[1],l=V(),d=Object(i.b)(),p=Object(j.f)(),O=function(){d({type:"LOGOUT"}),p.push("/auth"),u(null)};return Object(a.useEffect)((function(){n?1e3*Object(W.a)(n).exp<H.a.now()&&O():O();r(g.a.get("jwtToken"))}),[]),Object(Y.jsx)("div",{className:l.root,children:Object(Y.jsx)(P.a,{position:"static",children:Object(Y.jsxs)(A.a,{children:[Object(Y.jsx)(F.a,{edge:"start",className:l.menuButton,color:"inherit","aria-label":"menu",children:Object(Y.jsx)(z.a,{})}),Object(Y.jsx)(L.a,{variant:"h6",className:l.title,children:"Dashboard"}),Object(Y.jsx)(L.a,{variant:"overline",className:l.dbName,children:o||""}),Object(Y.jsx)(G.a,{color:"inherit",onClick:O,children:"Logout"})]})})})},J=n(205),M=n(97),K=n(57),Q=n(93),X=n.n(Q),Z=n(94),$=n.n(Z),ee=n(17),te=n(260),ne=n(248),ae=n(249),re=n(250),ce=n(152),se=n(252),ie=n(262),oe=n(92),ue=n.n(oe),le=function(e){var t=e.isEdit,n=e.isSuccess,c=e.setIsSuccess,s=Object(a.useState)(!1),i=Object(b.a)(s,2),o=i[0],u=i[1];Object(a.useEffect)((function(){n&&l()}),[n]);var l=function(){u(!0)},d=function(e,t){"clickaway"!==t&&(u(!1),c(!1))};return Object(Y.jsx)("div",{children:Object(Y.jsx)(ie.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:o,autoHideDuration:3e3,onClose:d,message:t?"Data sucessfully updated":"Data sucessfully deleted",action:Object(Y.jsx)(r.a.Fragment,{children:Object(Y.jsx)(F.a,{size:"small","aria-label":"close",color:"inherit",onClick:d,children:Object(Y.jsx)(ue.a,{fontSize:"small"})})})})})},de=function(e){var t=e.isOpen,n=e.handleClose,r=e.isEdit,c=e.currentId,s=Object(a.useState)(!1),o=Object(b.a)(s,2),u=o[0],l=o[1],d=Object(a.useState)(!1),j=Object(b.a)(d,2),O=j[0],h=j[1],m=Object(a.useState)({uid:"",userData:{name:""},temperature:""}),v=Object(b.a)(m,2),y=v[0],g=v[1],w=Object(i.c)((function(e){return c?e.records.find((function(e){return e._id===c})):null})),E=Object(i.b)();Object(a.useEffect)((function(){w&&g(w),l(!!t)}),[w,t]);return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(le,{isEdit:r,isSuccess:O,setIsSuccess:h}),Object(Y.jsxs)(te.a,{open:u,onClose:n,children:[Object(Y.jsx)(ne.a,{id:"alert-dialog-title",children:Object(Y.jsx)(L.a,{align:"center",children:r?"Edit Record":"Delete Record"})}),Object(Y.jsxs)(ae.a,{children:[Object(Y.jsx)(re.a,{id:"alert-dialog-description",children:!r&&"Are you sure want to delete this record ?"}),r&&Object(Y.jsx)("form",{style:{paddingBottom:"20px"},children:Object(Y.jsxs)(p.a,{container:!0,spacing:2,direction:"column",children:[Object(Y.jsx)(p.a,{item:!0,children:Object(Y.jsx)(ce.a,{disabled:!0,value:y.uid,variant:"outlined",label:"UID"})}),Object(Y.jsx)(p.a,{item:!0,children:Object(Y.jsx)(ce.a,{disabled:!0,value:y.userData?y.userData.name:"",variant:"outlined",label:"Name"})}),Object(Y.jsx)(p.a,{item:!0,children:Object(Y.jsx)(ce.a,{variant:"outlined",value:y.temperature,onChange:function(e){return g(Object(ee.a)(Object(ee.a)({},y),{},{temperature:e.target.value}))},label:"Temperature"})})]})})]}),Object(Y.jsxs)(se.a,{children:[Object(Y.jsx)(G.a,{onClick:n,variant:"contained",color:r?"secondary":"primary",children:"No"}),Object(Y.jsx)(G.a,{variant:"contained",onClick:function(){var e;E(r?function(e,t){return function(){var n=Object(x.a)(f.a.mark((function n(a){var r,c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S(e,t);case 3:r=n.sent,c=r.data,a({type:"UPDATERECORD",payload:c}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(c,y):(e=c,function(){var t=Object(x.a)(f.a.mark((function t(n){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D(e);case 3:a=t.sent,r=a.data,n({type:"DELETERECORD",payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())),h(!0),n()},color:r?"primary":"secondary",autoFocus:!0,children:"Yes"})]})]})]})},je=function(e){var t,n,r=e.currentId,c=e.setCurrentId,s=Object(a.useState)(!1),o=Object(b.a)(s,2),u=o[0],l=o[1],d=Object(a.useState)(!0),j=Object(b.a)(d,2),p=j[0],O=j[1],h=Object(a.useState)(!0),f=Object(b.a)(h,2),x=f[0],m=f[1],v=Object(i.c)((function(e){return e.records}));Object(a.useEffect)((function(){if(!v.length)return m(!0);m(!1)}),[v]),t=v.filter((function(e){return null!=e.userData})).map((function(e){var t={};return t.id=e._id,t.uid=e.uid,t.name=e.userData?e.userData.name:"",t.temperature=e.temperature,t.status=e.status,t.createdAt=H()(e.createdAt).format("M/D/YYYY LT"),t.action="",t})),n=[{field:"id",headerName:"id",hide:!0},{field:"uid",headerName:"UID",width:120},{field:"name",headerName:"Name",flex:1},{field:"temperature",headerName:"Temp",width:100},{field:"status",headerName:"Status",width:100},{field:"createdAt",headerName:"Time In",width:200,type:"dateTime"},{field:"action",headerName:"Action",width:150,sortable:!1,renderCell:function(e){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(F.a,{color:"primary",onClick:function(t){y(e.getValue("id"))},children:Object(Y.jsx)(X.a,{})}),Object(Y.jsx)(F.a,{color:"secondary",onClick:function(t){return g(e.getValue("id"))},children:Object(Y.jsx)($.a,{})})]})}}];var y=function(e){c(e),O(!0),l(!0)},g=function(e){c(e),O(!1),l(!0)};return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(de,{isOpen:u,handleClose:function(){l(!1)},isEdit:p,currentId:r}),Object(Y.jsx)(M.a,{elevation:3,children:Object(Y.jsx)("div",{style:{height:500,width:"100%"},children:Object(Y.jsx)(K.a,{rows:t,columns:n,components:{Toolbar:K.c,LoadingOverlay:function(){return Object(Y.jsx)(K.b,{children:Object(Y.jsx)("div",{style:{position:"absolute"},children:Object(Y.jsx)(J.a,{})})})}},loading:x})})})]})},be=function(e){var t=e.isEdit,n=e.isSuccess,c=e.setIsSuccess,s=Object(a.useState)(!1),i=Object(b.a)(s,2),o=i[0],u=i[1];Object(a.useEffect)((function(){n&&l()}),[n]);var l=function(){u(!0)},d=function(e,t){"clickaway"!==t&&(u(!1),c(!1))};return Object(Y.jsx)("div",{children:Object(Y.jsx)(ie.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:o,autoHideDuration:3e3,onClose:d,message:t?"Data sucessfully updated":"Data sucessfully deleted",action:Object(Y.jsx)(r.a.Fragment,{children:Object(Y.jsx)(F.a,{size:"small","aria-label":"close",color:"inherit",onClick:d,children:Object(Y.jsx)(ue.a,{fontSize:"small"})})})})})},pe=function(e){var t=e.isOpen,n=e.handleClose,r=e.isEdit,c=e.currentId,s=e.checked,o=Object(a.useState)(!1),u=Object(b.a)(o,2),l=u[0],d=u[1],j=Object(a.useState)(!1),O=Object(b.a)(j,2),h=O[0],m=O[1],v=Object(a.useState)({uid:"",name:""}),y=Object(b.a)(v,2),g=y[0],w=y[1],E=Object(i.c)((function(e){return c?e.users.find((function(e){return e._id===c})):null})),R=Object(i.b)();Object(a.useEffect)((function(){E&&w(E),d(!!t)}),[E,t,s]);return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(be,{isEdit:r,isSuccess:h,setIsSuccess:m}),Object(Y.jsxs)(te.a,{open:l,onClose:n,children:[Object(Y.jsx)(ne.a,{id:"alert-dialog-title",children:Object(Y.jsx)(L.a,{align:"center",children:r?"Edit userdata":"Delete userdata"})}),Object(Y.jsxs)(ae.a,{children:[Object(Y.jsx)(re.a,{id:"alert-dialog-description",children:!r&&"Are you sure want to delete this userdata ?"}),r&&Object(Y.jsx)("form",{style:{paddingBottom:"20px"},children:Object(Y.jsxs)(p.a,{container:!0,spacing:2,direction:"column",children:[Object(Y.jsx)(p.a,{item:!0,children:Object(Y.jsx)(ce.a,{disabled:!0,value:g?g.uid:"",variant:"outlined",label:"UID"})}),Object(Y.jsx)(p.a,{item:!0,children:Object(Y.jsx)(ce.a,{value:g?g.name:"",onChange:function(e){return w(Object(ee.a)(Object(ee.a)({},g),{},{name:e.target.value}))},variant:"outlined",label:"Name"})})]})})]}),Object(Y.jsxs)(se.a,{children:[Object(Y.jsx)(G.a,{onClick:n,variant:"contained",color:r?"secondary":"primary",children:"No"}),Object(Y.jsx)(G.a,{variant:"contained",onClick:function(){var e;R(r?function(e,t){return function(){var n=Object(x.a)(f.a.mark((function n(a){var r,c,s;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k(e,t);case 3:r=n.sent,c=r.data,a({type:"UPDATEUSER",payload:c}),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),"object"===typeof(s=n.t0.response.data.messages)&&(s=s[0]),a({type:"ERRORUPDATE",payload:s});case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(c,g):(e=c,function(){var t=Object(x.a)(f.a.mark((function t(n){var a,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C(e);case 3:a=t.sent,r=a.data,n({type:"DELETEUSER",payload:r}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),"object"===typeof(c=t.t0.response.data.messages)&&(c=c[0]),n({type:"ERRORDELETE",payload:c});case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())),m(!0),n()},color:r?"primary":"secondary",autoFocus:!0,children:"Yes"})]})]})]})},Oe=function(e){var t,n,r=e.currentId,c=e.setCurrentId,s=Object(a.useState)(!1),o=Object(b.a)(s,2),u=o[0],l=o[1],d=Object(a.useState)(!0),j=Object(b.a)(d,2),p=j[0],O=j[1],h=Object(a.useState)(!0),f=Object(b.a)(h,2),x=f[0],m=f[1],v=Object(i.c)((function(e){return e.users}));Object(a.useEffect)((function(){if(!v.length)return m(!0);m(!1)}),[v]),t=v.map((function(e){var t={};return t.id=e.id,t.uid=e.uid,t.name=e.name,t})),n=[{field:"id",headerName:"id",hide:!0},{field:"uid",headerName:"UID",flex:1},{field:"name",headerName:"Name",flex:1},{field:"action",headerName:"Action",width:150,sortable:!1,renderCell:function(e){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(F.a,{color:"primary",onClick:function(t){y(e.getValue("id"))},children:Object(Y.jsx)(X.a,{})}),Object(Y.jsx)(F.a,{color:"secondary",onClick:function(t){return g(e.getValue("id"))},children:Object(Y.jsx)($.a,{})})]})}}];var y=function(e){c(e),O(!0),l(!0)},g=function(e){c(e),O(!1),l(!0)};return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(pe,{isOpen:u,handleClose:function(){l(!1)},isEdit:p,currentId:r}),Object(Y.jsx)(M.a,{elevation:3,children:Object(Y.jsx)("div",{style:{height:500,width:"100%"},children:Object(Y.jsx)(K.a,{rows:t,columns:n,components:{Toolbar:K.c,LoadingOverlay:function(){return Object(Y.jsx)(K.b,{children:Object(Y.jsx)("div",{style:{position:"absolute"},children:Object(Y.jsx)(J.a,{})})})}},loading:x})})})]})},he=n(253),fe=n(254),xe=Object(U.a)({title:{fontSize:24,fontWeight:"bold"}}),me=function(){var e=Object(a.useState)((new Date).toLocaleString()),t=Object(b.a)(e,2),n=t[0],r=t[1],c=xe();return Object(a.useEffect)((function(){var e=setInterval((function(){r((new Date).toLocaleString())}),1e3);return function(){return clearInterval(e)}}),[]),Object(Y.jsx)(he.a,{elevation:3,children:Object(Y.jsxs)(fe.a,{children:[Object(Y.jsx)(L.a,{variant:"h5",className:c.title,gutterBottom:!0,children:"Current Time"}),Object(Y.jsx)(L.a,{variant:"h6",color:"textSecondary",children:n})]})})},ve=n(203),ye=n(255),ge=n(246),we=n(142),Ee=n.n(we),Re=function(e){var t=e.checked,n=e.setChecked,r=Object(a.useState)(null),c=Object(b.a)(r,2),s=c[0],o=c[1],u=Object(i.b)();return Object(Y.jsx)(he.a,{elevation:3,children:Object(Y.jsxs)(fe.a,{children:[Object(Y.jsx)(L.a,{variant:"overline",children:"Toggle User Data"}),Object(Y.jsx)(ve.a,{checked:t,onChange:function(e){n(!t)},color:"primary",name:"checkedA"}),t&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ye.a,{}),Object(Y.jsxs)("div",{style:{display:"flex",flexDirection:"column",paddingTop:"5px"},children:[Object(Y.jsx)(L.a,{variant:"overline",children:"Upload User data"}),Object(Y.jsx)(ge.a,{onChange:function(e){return o(e.target.files[0])},accept:".csv",type:"file",endAdornment:Object(Y.jsx)(F.a,{onClick:function(){if(s){var e,t=new FormData;t.append("data",s,s.name),u((e=t,function(){var t=Object(x.a)(f.a.mark((function t(n){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T(e);case 3:a=t.sent,r=a.data,n({type:"UPLOADUSER",payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}},size:"small",color:"primary",children:Object(Y.jsx)(Ee.a,{})})})]})]})]})})},Se=function(){var e=Object(a.useState)(null),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(b.a)(c,2),o=s[0],u=s[1],l=Object(i.b)();return Object(a.useEffect)((function(){l(function(){var e=Object(x.a)(f.a.mark((function e(t){var n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R();case 3:n=e.sent,a=n.data,t({type:"FETCHUSER",payload:a}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),"object"===typeof(r=e.t0.response.data.messages)&&(r=r[0]),t({type:"ERRORUSER",payload:r});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),l(function(){var e=Object(x.a)(f.a.mark((function e(t){var n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:n=e.sent,a=n.data,t({type:"FETCHRECORD",payload:a}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),"object"===typeof(r=e.t0.response.data.messages)&&(r=r[0]),t({type:"ERRORRECORD",payload:r});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[l,n,o]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(q,{}),Object(Y.jsx)("div",{style:{paddingTop:"20px"},children:Object(Y.jsxs)(p.a,{container:!0,justify:"center",direction:"row",alignItems:"flex-start",spacing:2,children:[Object(Y.jsx)(p.a,{item:!0,sm:12,xs:12,lg:!0,children:o?Object(Y.jsx)(Oe,{currentId:n,setCurrentId:r}):Object(Y.jsx)(je,{currentId:n,setCurrentId:r})}),Object(Y.jsx)(p.a,{item:!0,sm:12,xs:12,lg:3,children:Object(Y.jsxs)(p.a,{container:!0,direction:"column",justify:"center",alignItems:"stretch",spacing:2,children:[Object(Y.jsx)(O.a,{only:["sm","xs","md"],children:Object(Y.jsx)(p.a,{item:!0,children:Object(Y.jsx)(me,{})})}),Object(Y.jsx)(p.a,{item:!0,children:Object(Y.jsx)(Re,{checked:o,setChecked:u})})]})})]})})]})},ke=n(49),De=n(147),Ce=Object(U.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Ie=n(256),Ne=n(143),Te=n.n(Ne),Ue=n(144),Pe=n.n(Ue),Ae=function(e){var t=e.name,n=e.handleChange,a=e.autofocus,r=e.label,c=e.type,s=(e.error,e.handleShowPassword);return Object(Y.jsx)(p.a,{item:!0,xs:12,children:Object(Y.jsx)(ce.a,{name:t,onChange:n,variant:"outlined",required:!0,fullWidth:!0,label:r,autoFocus:a,type:c,InputProps:"password"===t?{endAdornment:Object(Y.jsx)(Ie.a,{position:"end",children:Object(Y.jsx)(F.a,{onClick:s,children:"password"===c?Object(Y.jsx)(Te.a,{}):Object(Y.jsx)(Pe.a,{})})})}:null})})},Fe=function(){var e=Object(a.useState)({username:"",password:"",confirmPassword:"",db_id:""}),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(b.a)(c,2),o=s[0],u=s[1],d=Object(a.useState)(!1),O=Object(b.a)(d,2),h=O[0],m=O[1],v=Ce(),y=Object(i.b)(),g=Object(j.f)(),w=function(e){r(Object(ee.a)(Object(ee.a)({},n),{},Object(ke.a)({},e.target.name,e.target.value)))};return Object(Y.jsx)("div",{children:Object(Y.jsx)(De.a,{in:!0,timeout:1e3,children:Object(Y.jsx)(l.a,{component:"main",maxWidth:"xs",children:Object(Y.jsxs)(M.a,{className:v.paper,elevation:3,children:[Object(Y.jsx)(L.a,{variant:"h4",children:h?"SIGN UP":"SIGN IN"}),Object(Y.jsxs)("form",{autoComplete:"off",className:v.form,onSubmit:function(e){e.preventDefault(),y(h?function(e,t){return function(){var n=Object(x.a)(f.a.mark((function n(a){var r,c,s;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N(e);case 3:r=n.sent,c=r.data,a({type:"SIGNUP",payload:c}),t.push("/"),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),"object"===typeof(s=n.t0.response.data.messages)&&(s=s[0]),a({type:"ERRORSIGNUP",payload:s});case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(n,g):function(e,t){return function(){var n=Object(x.a)(f.a.mark((function n(a){var r,c,s;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I(e);case 3:r=n.sent,c=r.data,a({type:"SIGNIN",payload:c}),t.push("/"),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),"object"===typeof(s=n.t0.response.data.messages)&&(s=s[0]),a({type:"ERRORSIGNIN",payload:s});case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(n,g))},children:[Object(Y.jsxs)(p.a,{container:!0,spacing:2,children:[Object(Y.jsx)(Ae,{name:"username",label:"Username",handleChange:w,autoFocus:!0}),h&&Object(Y.jsx)(Ae,{name:"db_id",label:"DB ID",handleChange:w}),Object(Y.jsx)(Ae,{name:"password",label:"Password",handleChange:w,type:o?"text":"password",handleShowPassword:function(){return u((function(e){return!e}))}})]}),Object(Y.jsx)(G.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:v.submit,children:h?"Sign Up":"Sign In"}),Object(Y.jsx)(p.a,{container:!0,justify:"flex-end",children:Object(Y.jsx)(p.a,{item:!0,children:Object(Y.jsx)(G.a,{onClick:function(){m((function(e){return!e})),u(!1)},children:h?"Have an account? Sign In":"Don't have an account? Sign Up"})})})]})]})})})})},Le=Object(U.a)((function(e){return{title:{fontSize:"25px"}}})),Ge=function(){var e=Le();return Object(Y.jsx)(l.a,{fixed:!0,maxWidth:"lg",children:Object(Y.jsx)(M.a,{children:Object(Y.jsxs)("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column"},children:[Object(Y.jsx)(L.a,{align:"center",variant:"h1",children:"404"}),Object(Y.jsx)(L.a,{align:"center",className:e.title,variant:"overline",children:"Page Not Found"}),Object(Y.jsx)(G.a,{component:d.b,to:"/",variant:"outlined",children:"Back To Home"})]})})})},_e=function(){return Object(Y.jsx)(d.a,{children:Object(Y.jsx)(l.a,{maxWidth:"lg",children:Object(Y.jsxs)(j.c,{children:[Object(Y.jsx)(j.a,{path:"/",exact:!0,component:Se}),Object(Y.jsx)(j.a,{path:"/auth",exact:!0,component:Fe}),Object(Y.jsx)(j.a,{path:"*",children:Object(Y.jsx)(Ge,{})})]})})})},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHRECORD":return t.payload;case"UPDATERECORD":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case"DELETERECORD":return t.payload;case"ERRORRECORD":return[];default:return e}},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHUSER":return t.payload;case"UPDATEUSER":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case"DELETEUSER":case"UPLOADUSER":return t.payload;case"ERRORUSER":return[];default:return e}},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNIN":case"SIGNUP":return g.a.set("db_id",t.payload.db_id,{path:"/"}),g.a.set("jwtToken",t.payload.jwtToken,{path:"/"}),Object(ee.a)(Object(ee.a)({},e),{},{authData:t.payload});case"LOGOUT":return g.a.remove("db_id",{path:"/"}),g.a.remove("jwtToken",{path:"/"}),Object(ee.a)(Object(ee.a)({},e),{},{authData:null});default:return e}},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"",msg:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERRORSIGNIN":if(t.payload.includes("Password"))return Object(ee.a)(Object(ee.a)({},e),{},{type:"signin",msg:"Password"});if(t.payload.includes("Document"))return Object(ee.a)(Object(ee.a)({},e),{},{type:"signin",msg:"Username"});break;case"ERRORSIGNUP":if(t.payload.includes("Password"))return Object(ee.a)(Object(ee.a)({},e),{},{type:"signup",msg:"Password"});if(t.payload.includes("Username"))return Object(ee.a)(Object(ee.a)({},e),{},{type:"signup",msg:"Username"});break;case"ERRORUPDATE":if(t.payload.includes("id"))return Object(ee.a)(Object(ee.a)({},e),{},{type:"update",msg:"id"});break;case"ERRORDELETE":if(t.payload.includes("id"))return Object(ee.a)(Object(ee.a)({},e),{},{type:"delete",msg:"id"});break;default:return null}},Ye=Object(o.c)({records:ze,users:Be,auths:He,errors:We}),Ve=Object(o.e)(Ye,Object(o.d)(Object(o.a)(u.a)));s.a.render(Object(Y.jsx)(i.a,{store:Ve,children:Object(Y.jsx)(_e,{})}),document.getElementById("root"))}},[[196,1,2]]]);
//# sourceMappingURL=main.9d57208c.chunk.js.map