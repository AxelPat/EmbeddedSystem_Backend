(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{193:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),i=a.n(c),s=a(32),o=a(53),u=a(130),l=a(252),d=a(80),j=a(19),b=a(7),h=a(248),p=a(253),O=a(17),f=a.n(O),x=a(34),m=a(131),v=a.n(m),g=a(25),w=a.n(g),y=v.a.create({baseURL:"http://localhost:7070/api"});y.interceptors.request.use((function(e){return w.a.get().jwtToken&&(e.headers.Authorization="Bearer ".concat(w.a.get().jwtToken)),e}));var S=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.get("/user/records",{withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(x.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.patch("/user/record/".concat(t),a,{withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.delete("/user/record/".concat(t),{withCredentials:!0}).then(S));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.post("/auth/login",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y.post("/auth/register",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=a(40),T=a(241),E=a(242),L=a(64),U=a(104),P=a(65),A=a(137),F=a.n(A),G=a(82),_=a.n(G),R=a(132),B=a(5),z=Object(I.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},dbName:{paddingRight:"20px"}}})),W=function(){var e=Object(n.useState)(w.a.get("jwtToken")),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(w.a.get("db_id")),i=Object(b.a)(c,2),o=i[0],u=i[1],l=z(),d=Object(s.b)(),h=Object(j.f)(),p=function(){d({type:"LOGOUT"}),h.push("/auth"),u(null)};return Object(n.useEffect)((function(){a?1e3*Object(R.a)(a).exp<_.a.now()&&p():p();r(w.a.get("jwtToken"))}),[]),Object(B.jsx)("div",{className:l.root,children:Object(B.jsx)(T.a,{position:"static",children:Object(B.jsxs)(E.a,{children:[Object(B.jsx)(L.a,{edge:"start",className:l.menuButton,color:"inherit","aria-label":"menu",children:Object(B.jsx)(F.a,{})}),Object(B.jsx)(U.a,{variant:"h6",className:l.title,children:"Dashboard"}),Object(B.jsx)(U.a,{variant:"overline",className:l.dbName,children:o||""}),Object(B.jsx)(P.a,{color:"inherit",onClick:p,children:"Logout"})]})})})},Y=a(202),H=a(93),q=a(90),J=a(140),M=a.n(J),V=a(141),K=a.n(V),Q=a(36),X=a(255),Z=a(245),$=a(246),ee=a(247),te=a(149),ae=a(249),ne=a(257),re=a(139),ce=a.n(re),ie=function(e){var t=e.isEdit,a=e.isSuccess,c=e.setIsSuccess,i=Object(n.useState)(!1),s=Object(b.a)(i,2),o=s[0],u=s[1];Object(n.useEffect)((function(){a&&l()}),[a]);var l=function(){u(!0)},d=function(e,t){"clickaway"!==t&&(u(!1),c(!1))};return Object(B.jsx)("div",{children:Object(B.jsx)(ne.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:o,autoHideDuration:3e3,onClose:d,message:t?"Data sucessfully updated":"Data sucessfully deleted",action:Object(B.jsx)(r.a.Fragment,{children:Object(B.jsx)(L.a,{size:"small","aria-label":"close",color:"inherit",onClick:d,children:Object(B.jsx)(ce.a,{fontSize:"small"})})})})})},se=function(e){var t=e.isOpen,a=e.handleClose,r=e.isEdit,c=e.currentId,i=Object(n.useState)(!1),o=Object(b.a)(i,2),u=o[0],l=o[1],d=Object(n.useState)(!1),j=Object(b.a)(d,2),p=j[0],O=j[1],m=Object(n.useState)({uid:"",userData:{name:""},temperature:""}),v=Object(b.a)(m,2),g=v[0],w=v[1],y=Object(s.c)((function(e){return c?e.userData.find((function(e){return e._id===c})):null})),S=Object(s.b)();Object(n.useEffect)((function(){y&&w(y),l(!!t)}),[y,t]);return Object(B.jsxs)("div",{children:[Object(B.jsx)(ie,{isEdit:r,isSuccess:p,setIsSuccess:O}),Object(B.jsxs)(X.a,{open:u,onClose:a,children:[Object(B.jsx)(Z.a,{id:"alert-dialog-title",children:Object(B.jsx)(U.a,{align:"center",children:r?"Edit Record":"Delete Record"})}),Object(B.jsxs)($.a,{children:[Object(B.jsx)(ee.a,{id:"alert-dialog-description",children:!r&&"Are you sure want to delete this record ?"}),r&&Object(B.jsx)("form",{style:{paddingBottom:"20px"},children:Object(B.jsxs)(h.a,{container:!0,spacing:2,direction:"column",children:[Object(B.jsx)(h.a,{item:!0,children:Object(B.jsx)(te.a,{disabled:!0,value:g.uid,variant:"outlined",label:"UID"})}),Object(B.jsx)(h.a,{item:!0,children:Object(B.jsx)(te.a,{disabled:!0,value:g.userData?g.userData.name:"",variant:"outlined",label:"Name"})}),Object(B.jsx)(h.a,{item:!0,children:Object(B.jsx)(te.a,{variant:"outlined",value:g.temperature,onChange:function(e){return w(Object(Q.a)(Object(Q.a)({},g),{},{temperature:e.target.value}))},label:"Temperature"})})]})})]}),Object(B.jsxs)(ae.a,{children:[Object(B.jsx)(P.a,{onClick:a,variant:"contained",color:r?"secondary":"primary",children:"No"}),Object(B.jsx)(P.a,{variant:"contained",onClick:function(){var e;r?(console.log("update"),S(function(e,t){return function(){var a=Object(x.a)(f.a.mark((function a(n){var r,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k(e,t);case 3:r=a.sent,c=r.data,n({type:"UPDATE",payload:c}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(c,g))):(console.log("delete"),S((e=c,function(){var t=Object(x.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D(e);case 3:n=t.sent,r=n.data,a({type:"DELETE",payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))),O(!0),a()},color:r?"primary":"secondary",autoFocus:!0,children:"Yes"})]})]})]})},oe=function(e){var t=e.currentId,a=e.setCurrentId,r=Object(n.useState)(!1),c=Object(b.a)(r,2),i=c[0],o=c[1],u=Object(n.useState)(!0),l=Object(b.a)(u,2),d=l[0],j=l[1],h=Object(n.useState)(!0),p=Object(b.a)(h,2),O=p[0],f=p[1],x=Object(s.c)((function(e){return e.userData}));Object(n.useEffect)((function(){x.length?f(!1):f(!0)}));var m=x.filter((function(e){return null!=e.userData})).map((function(e){var t={};return t.id=e.id,t.uid=e.uid,t.name=e.userData?e.userData.name:"",t.temperature=e.temperature,t.status=e.status,t.createdAt=_()(e.createdAt).format("M/D/YYYY LT"),t.action="",t})),v=[{field:"id",headerName:"id",hide:!0},{field:"uid",headerName:"UID",width:120},{field:"name",headerName:"Name",flex:1},{field:"temperature",headerName:"Temp",width:100},{field:"status",headerName:"Status",width:100},{field:"createdAt",headerName:"Time In",width:200,type:"dateTime"},{field:"action",headerName:"Action",width:150,renderCell:function(e){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(L.a,{color:"primary",onClick:function(t){g(e.getValue("id"))},children:Object(B.jsx)(M.a,{})}),Object(B.jsx)(L.a,{color:"secondary",onClick:function(t){return w(e.getValue("id"))},children:Object(B.jsx)(K.a,{})})]})}}],g=function(e){a(e),j(!0),o(!0)},w=function(e){a(e),j(!1),o(!0)};return Object(B.jsxs)("div",{children:[Object(B.jsx)(se,{isOpen:i,handleClose:function(){o(!1)},isEdit:d,currentId:t}),Object(B.jsx)(H.a,{elevation:3,children:Object(B.jsx)("div",{style:{height:500,width:"100%"},children:Object(B.jsx)(q.a,{rows:m,columns:v,components:{Toolbar:q.c,LoadingOverlay:function(){return Object(B.jsx)(q.b,{children:Object(B.jsx)("div",{style:{position:"absolute"},children:Object(B.jsx)(Y.a,{})})})}},loading:O})})})]})},ue=a(250),le=a(251),de=Object(I.a)({title:{fontSize:24,fontWeight:"bold"}}),je=function(){var e=Object(n.useState)((new Date).toLocaleString()),t=Object(b.a)(e,2),a=t[0],r=t[1],c=de();return Object(n.useEffect)((function(){var e=setInterval((function(){r((new Date).toLocaleString())}),1e3);return function(){return clearInterval(e)}}),[]),Object(B.jsx)(ue.a,{elevation:3,children:Object(B.jsxs)(le.a,{children:[Object(B.jsx)(U.a,{variant:"h5",className:c.title,gutterBottom:!0,children:"Current Time"}),Object(B.jsx)(U.a,{variant:"h6",color:"textSecondary",children:a})]})})},be=function(){var e=Object(n.useState)(null),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(s.b)();return Object(n.useEffect)((function(){c(function(){var e=Object(x.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:a=e.sent,n=a.data,t({type:"FETCHALL",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[c,a]),Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(W,{}),Object(B.jsx)("div",{style:{paddingTop:"20px"},children:Object(B.jsxs)(h.a,{container:!0,justify:"center",alignItems:"flex-start",spacing:2,children:[Object(B.jsx)(h.a,{item:!0,sm:12,xs:12,lg:9,children:Object(B.jsx)(oe,{currentId:a,setCurrentId:r})}),Object(B.jsx)(p.a,{only:["sm","xs","md"],children:Object(B.jsx)(h.a,{item:!0,lg:!0,children:Object(B.jsx)(je,{})})})]})})]})},he=a(48),pe=a(144),Oe=Object(I.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),fe=function(e){var t=e.name,a=e.handleChange,n=e.autofocus,r=e.label,c=e.type;e.handleShowPassword;return Object(B.jsx)(h.a,{item:!0,xs:12,children:Object(B.jsx)(te.a,{name:t,onChange:a,variant:"outlined",required:!0,fullWidth:!0,label:r,autoFocus:n,type:c})})},xe=function(){var e=Object(n.useState)({username:"",password:"",confirmPassword:"",db_id:""}),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(b.a)(c,2),o=i[0],u=i[1],d=Object(n.useState)(!1),p=Object(b.a)(d,2),O=p[0],m=p[1],v=Oe(),g=Object(s.b)(),w=Object(j.f)(),y=function(e){r(Object(Q.a)(Object(Q.a)({},a),{},Object(he.a)({},e.target.name,e.target.value)))};return Object(B.jsx)("div",{children:Object(B.jsx)(pe.a,{in:!0,timeout:1e3,children:Object(B.jsx)(l.a,{component:"main",maxWidth:"xs",children:Object(B.jsxs)(H.a,{className:v.paper,elevation:3,children:[Object(B.jsx)(U.a,{variant:"h4",children:O?"SIGN UP":"SIGN IN"}),Object(B.jsxs)("form",{autoComplete:"off",className:v.form,onSubmit:function(e){e.preventDefault(),g(O?function(e,t){return function(){var a=Object(x.a)(f.a.mark((function a(n){var r,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C(e);case 3:r=a.sent,c=r.data,n({type:"SIGNUP",payload:c}),t.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0.message);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a,w):function(e,t){return function(){var a=Object(x.a)(f.a.mark((function a(n){var r,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N(e);case 3:r=a.sent,c=r.data,n({type:"SIGNIN",payload:c}),t.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0.message);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a,w))},children:[Object(B.jsxs)(h.a,{container:!0,spacing:2,children:[Object(B.jsx)(fe,{name:"username",label:"Username",handleChange:y,autoFocus:!0}),O&&Object(B.jsx)(fe,{name:"db_id",label:"DB ID",handleChange:y}),Object(B.jsx)(fe,{name:"password",label:"Password",handleChange:y,type:o?"text":"password",handleShowPassword:function(){return u((function(e){return!e}))}}),O&&Object(B.jsx)(fe,{name:"confirmPassword",label:"Confirm Password",handleChange:y,type:"password"})]}),Object(B.jsx)(P.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:v.submit,children:O?"Sign Up":"Sign In"}),Object(B.jsx)(h.a,{container:!0,justify:"flex-end",children:Object(B.jsx)(h.a,{item:!0,children:Object(B.jsx)(P.a,{onClick:function(){m((function(e){return!e})),u(!1)},children:O?"Have an account? Sign In":"Don't have an account? Sign Up"})})})]})]})})})})},me=Object(I.a)((function(e){return{title:{fontSize:"25px"},paper:{display:"flex",flexDirection:"column",alignItems:"center"}}})),ve=function(){var e=me();return Object(B.jsx)(l.a,{maxWidth:"lg",children:Object(B.jsxs)("div",{className:e.paper,children:[Object(B.jsx)(U.a,{variant:"h1",children:"404"}),Object(B.jsx)(U.a,{className:e.title,variant:"overline",children:"Page Not Found :("})]})})},ge=function(){return Object(B.jsx)(d.a,{children:Object(B.jsx)(l.a,{maxWidth:"lg",children:Object(B.jsxs)(j.c,{children:[Object(B.jsx)(j.a,{path:"/",exact:!0,component:be}),Object(B.jsx)(j.a,{path:"/auth",exact:!0,component:xe}),Object(B.jsx)(j.a,{path:"*",children:Object(B.jsx)(ve,{})})]})})})},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHALL":return t.payload;case"UPDATE":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case"DELETE":case"ERROR":return t.payload;default:return[]}},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNIN":case"SIGNUP":return w.a.set("db_id",t.payload.db_id,{path:"/"}),w.a.set("jwtToken",t.payload.jwtToken,{path:"/"}),Object(Q.a)(Object(Q.a)({},e),{},{authData:t.payload});case"LOGOUT":return w.a.remove("db_id",{path:"/"}),w.a.remove("jwtToken",{path:"/"}),Object(Q.a)(Object(Q.a)({},e),{},{authData:null});default:return e}},Se=Object(o.c)({userData:we,auth:ye}),ke=Object(o.e)(Se,Object(o.d)(Object(o.a)(u.a)));i.a.render(Object(B.jsx)(s.a,{store:ke,children:Object(B.jsx)(ge,{})}),document.getElementById("root"))}},[[193,1,2]]]);
//# sourceMappingURL=main.4a4a409a.chunk.js.map