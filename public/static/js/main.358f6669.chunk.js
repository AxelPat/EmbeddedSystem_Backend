(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{191:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(14),c=a.n(r),i=a(38),s=a(52),o=a(130),u=a(250),l=a(77),d=a(19),j=a(246),b=a(251),h=a(17),p=a.n(h),f=a(31),O=a(131),m=a.n(O),x=a(25),g=a.n(x),v=m.a.create({baseURL:"http://localhost:7070/api"});v.interceptors.request.use((function(e){return g.a.get().jwtToken&&(e.headers.Authorization="Bearer ".concat(g.a.get().jwtToken)),e}));var w=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.get("/user/records",{withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.delete("/user/record/".concat(t),{withCredentials:!0}).then(w));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.post("/auth/login",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.post("/auth/register",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){return function(){var t=Object(f.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y(e);case 3:n=t.sent,r=n.data,a({type:"DELETE",payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},T=a(8),C=a(36),D=a(239),I=a(240),E=a(63),L=a(103),U=a(64),G=a(137),P=a.n(G),A=a(79),F=a.n(A),B=a(132),W=a(6),_=Object(C.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},dbName:{paddingRight:"20px"}}})),R=function(){var e=Object(n.useState)(g.a.get("jwtToken")),t=Object(T.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(g.a.get("db_id")),s=Object(T.a)(c,2),o=s[0],u=s[1],l=_(),j=Object(i.b)(),b=Object(d.f)(),h=function(){j({type:"LOGOUT"}),b.push("/auth"),u(null)};return Object(n.useEffect)((function(){a?1e3*Object(B.a)(a).exp<F.a.now()&&h():h();r(g.a.get("jwtToken"))}),[]),Object(W.jsx)("div",{className:l.root,children:Object(W.jsx)(D.a,{position:"static",children:Object(W.jsxs)(I.a,{children:[Object(W.jsx)(E.a,{edge:"start",className:l.menuButton,color:"inherit","aria-label":"menu",children:Object(W.jsx)(P.a,{})}),Object(W.jsx)(L.a,{variant:"h6",className:l.title,children:"Dashboard"}),Object(W.jsx)(L.a,{variant:"overline",className:l.dbName,children:o||""}),Object(W.jsx)(U.a,{color:"inherit",onClick:h,children:"Logout"})]})})})},Y=a(253),z=a(243),H=a(244),q=a(245),J=a(247),M=a(89),V=a(100),K=a(139),Q=a.n(K),X=a(140),Z=a.n(X),$=Object(C.a)({title:{fontSize:24,fontWeight:"bold"}}),ee=function(){var e=Object(n.useState)(""),t=Object(T.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(T.a)(c,2),o=s[0],u=s[1],l=Object(n.useState)(!0),d=Object(T.a)(l,2),b=d[0],h=d[1],p=Object(n.useState)({}),f=Object(T.a)(p,2),O=(f[0],f[1],Object(i.c)((function(e){return e.userData}))),m=Object(i.b)(),x=$(),g=O.map((function(e){var t={};return t.id=e.id,t.uid=e.uid,t.name=e.userData?e.userData.name:"",t.temperature=e.temperature,t.status=e.status,t.createdAt=F()(e.createdAt).format("M/D/YYYY LT"),t.action="",t})),v=[{field:"id",headerName:"id",hide:!0},{field:"uid",headerName:"UID",width:120},{field:"name",headerName:"Name",flex:1},{field:"temperature",headerName:"Temp",width:100},{field:"status",headerName:"Status",width:100},{field:"createdAt",headerName:"Time In",width:200,type:"dateTime"},{field:"action",headerName:"Action",width:150,renderCell:function(e){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(E.a,{color:"primary",onClick:w,value:e.getValue("id"),children:Object(W.jsx)(Q.a,{})}),Object(W.jsx)(E.a,{color:"secondary",onClick:y,value:e.getValue("id"),children:Object(W.jsx)(Z.a,{})})]})}}],w=function(e){r(e.currentTarget.value),a&&(h(!0),u(!0))},y=function(e){r(e.currentTarget.value),a&&(h(!1),u(!0))},N=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u(!1),e&&(b||m(k(a)))};return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(Y.a,{open:o,onClose:N,children:[Object(W.jsx)(z.a,{id:"alert-dialog-title",children:Object(W.jsx)(L.a,{className:x.title,align:"center",children:b?"Edit Record":"Delete Record"})}),Object(W.jsx)(H.a,{children:Object(W.jsxs)(q.a,{id:"alert-dialog-description",children:[Object(W.jsx)(j.a,{container:!0,spacing:2}),b?"Edit":"Are you sure want to delete this record ?"]})}),Object(W.jsxs)(J.a,{children:[Object(W.jsx)(U.a,{onClick:function(){return N(!1)},variant:"contained",color:b?"secondary":"primary",children:"No"}),Object(W.jsx)(U.a,{onClick:function(){return N(!0)},variant:"contained",color:b?"primary":"secondary",autoFocus:!0,children:"Yes"})]})]}),Object(W.jsx)(M.a,{elevation:3,children:Object(W.jsx)("div",{style:{height:500,width:"100%"},children:Object(W.jsx)(V.a,{rows:g,columns:v,components:{Toolbar:V.b}})})})]})},te=a(248),ae=a(249),ne=Object(C.a)({title:{fontSize:24,fontWeight:"bold"}}),re=function(){var e=Object(n.useState)((new Date).toLocaleString()),t=Object(T.a)(e,2),a=t[0],r=t[1],c=ne();return Object(n.useEffect)((function(){var e=setInterval((function(){r((new Date).toLocaleString())}),1e3);return function(){return clearInterval(e)}}),[]),Object(W.jsx)(te.a,{elevation:3,children:Object(W.jsxs)(ae.a,{children:[Object(W.jsx)(L.a,{variant:"h5",className:c.title,gutterBottom:!0,children:"Current Time"}),Object(W.jsx)(L.a,{variant:"h6",color:"textSecondary",children:a})]})})},ce=function(){var e=Object(i.b)();return Object(n.useEffect)((function(){e(function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:a=e.sent,n=a.data,t({type:"FETCHALL",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(R,{}),Object(W.jsx)("div",{style:{paddingTop:"20px"},children:Object(W.jsxs)(j.a,{container:!0,justify:"center",alignItems:"flex-start",spacing:2,children:[Object(W.jsx)(j.a,{item:!0,sm:12,xs:12,lg:9,children:Object(W.jsx)(ee,{})}),Object(W.jsx)(b.a,{only:["sm","xs","md"],children:Object(W.jsx)(j.a,{item:!0,lg:!0,children:Object(W.jsx)(re,{})})})]})})]})},ie=a(47),se=a(43),oe=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),ue=a(148),le=function(e){var t=e.name,a=e.handleChange,n=e.autofocus,r=e.label,c=e.type;e.handleShowPassword;return Object(W.jsx)(j.a,{item:!0,xs:12,children:Object(W.jsx)(ue.a,{name:t,onChange:a,variant:"outlined",required:!0,fullWidth:!0,label:r,autoFocus:n,type:c})})},de=function(){var e=Object(n.useState)({username:"",password:"",confirmPassword:"",db_id:""}),t=Object(T.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(T.a)(c,2),o=s[0],l=s[1],b=Object(n.useState)(!1),h=Object(T.a)(b,2),O=h[0],m=h[1],x=oe(),g=Object(i.b)(),v=Object(d.f)(),w=function(e){r(Object(se.a)(Object(se.a)({},a),{},Object(ie.a)({},e.target.name,e.target.value)))};return Object(W.jsx)(u.a,{component:"main",maxWidth:"xs",children:Object(W.jsxs)(M.a,{className:x.paper,elevation:3,children:[Object(W.jsx)(L.a,{variant:"h4",children:O?"SIGN UP":"SIGN IN"}),Object(W.jsxs)("form",{autoComplete:"off",className:x.form,onSubmit:function(e){e.preventDefault(),g(O?function(e,t){return function(){var a=Object(f.a)(p.a.mark((function a(n){var r,c;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S(e);case 3:r=a.sent,c=r.data,n({type:"SIGNUP",payload:c}),t.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0.message);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a,v):function(e,t){return function(){var a=Object(f.a)(p.a.mark((function a(n){var r,c;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N(e);case 3:r=a.sent,c=r.data,n({type:"SIGNIN",payload:c}),t.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0.message);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a,v))},children:[Object(W.jsxs)(j.a,{container:!0,spacing:2,children:[Object(W.jsx)(le,{name:"username",label:"Username",handleChange:w,autoFocus:!0}),O&&Object(W.jsx)(le,{name:"db_id",label:"DB ID",handleChange:w}),Object(W.jsx)(le,{name:"password",label:"Password",handleChange:w,type:o?"text":"password",handleShowPassword:function(){return l((function(e){return!e}))}}),O&&Object(W.jsx)(le,{name:"confirmPassword",label:"Confirm Password",handleChange:w,type:"password"})]}),Object(W.jsx)(U.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:x.submit,children:O?"Sign Up":"Sign In"}),Object(W.jsx)(j.a,{container:!0,justify:"flex-end",children:Object(W.jsx)(j.a,{item:!0,children:Object(W.jsx)(U.a,{onClick:function(){m((function(e){return!e})),l(!1)},children:O?"Have an account? Sign In":"Don't have an account? Sign Up"})})})]})]})})},je=function(){return Object(W.jsx)(l.a,{children:Object(W.jsx)(u.a,{maxWidth:"lg",children:Object(W.jsxs)(d.c,{children:[Object(W.jsx)(d.a,{path:"/auth",exact:!0,component:de}),Object(W.jsx)(d.a,{path:"/",exact:!0,component:ce})]})})})},be=function(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCHALL":case"UPDATE":case"DELETE":return e.payload;default:return[]}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNIN":case"SIGNUP":return g.a.set("db_id",t.payload.db_id,{path:"/"}),g.a.set("jwtToken",t.payload.jwtToken,{path:"/"}),Object(se.a)(Object(se.a)({},e),{},{authData:t.payload});case"LOGOUT":return g.a.remove("db_id",{path:"/"}),g.a.remove("jwtToken",{path:"/"}),Object(se.a)(Object(se.a)({},e),{},{authData:null});default:return e}},pe=Object(s.c)({userData:be,auth:he}),fe=Object(s.e)(pe,Object(s.d)(Object(s.a)(o.a)));c.a.render(Object(W.jsx)(i.a,{store:fe,children:Object(W.jsx)(je,{})}),document.getElementById("root"))}},[[191,1,2]]]);
//# sourceMappingURL=main.358f6669.chunk.js.map